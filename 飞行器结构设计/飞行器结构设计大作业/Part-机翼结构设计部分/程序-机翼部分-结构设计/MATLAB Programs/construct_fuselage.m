syms x;
v=int(97.126*x^3 - 1270.1*x^2 + 4684.3*x + 629.38,0,6.691);
v1=int(97.126*x^3 - 1270.1*x^2 + 4684.3*x + 629.38,0,x);
f1=vpa(v);
vv=int( -1865.2*x^2 + 48233*x - 307350,13.385,14.5);
vv1=int( -1865.2*x^2 + 48233*x - 307350,13.385,x);
f3=vpa(vv);
f2=3937.2*(13.385-6.691);
f=f1+f2+f3;
vm=int(97.126*x^4 - 1270.1*x^3 + 4684.3*x^2+ 629.38*x,0,6.691);
vm1=int(97.126*x^4 - 1270.1*x^3 + 4684.3*x^2+ 629.38*x,0,x);
m1=vpa(vm);
vvvm=int( -1865.2*x^3 + 48233*x^2 - 307350*x,13.385,14.5);
vvvm1=int( -1865.2*x^3 + 48233*x^2 - 307350*x,13.385,x);
m3=vpa(vvvm);
vvm=int( 3937.2*x,6.691,13.385);
vvm1=int( 3937.2*x,6.691,x);
m2=vpa(vvm);
m=m1+m2+m3;
syms N1 N2
% eq1=-f+(-2034-990.6-54.4-700)*9.8+N1+N2;
% eq2=-m+N1*3.28+N2*7.73-9.8*(2034*7.725+990.6*10.24+54.4*13.41+700*2.22);
% [N1,N2]=solve(eq1,eq2,N1,N2);
% 
% subplot(2,1,1)
% hold on
% Q1=-v1;
% ezplot(-v1,[0,2.22])
% hold on
% Q2=-(x*(145689*x^3 - 2540200*x^2 + 14052900*x + 3776280))/6000-700*9.8;
% ezplot(Q2,[2.22,3.28])
% hold on
% Q3=-(x*(145689*x^3 - 2540200*x^2 + 14052900*x + 3776280))/6000-700*9.8+N1;
% ezplot(Q3,[3.28,6.691])
% hold on
% Q4=-f1+3937.2*(x-6.691)-700*9.8+N1;
% ezplot(Q4,[6.691,7.275])
% hold on
% Q5=-f1+3937.2*(x-6.691)-700*9.8+N1-2034*9.8;
% ezplot(Q5,[7.275,7.73])
% hold on
% Q6=-f1-3937.2*(x-6.691)-700*9.8+N1-2034*9.8+N2;
% ezplot(Q6,[7.73,10.24])
% hold on
% Q7=-f1-3937.2*(x-6.691)-700*9.8+N1-2034*9.8+N2-990.6*9.8;
% ezplot(Q7,[10.24,13.385])
% hold on
% Q8=-f1-f2-700*9.8+N1-2034*9.8+N2-990.6*9.8-vv1;
% ezplot(Q8,[13.385,13.41])
% hold on
% Q9=-f1-f2-700*9.8+N1-2034*9.8+N2-990.6*9.8-54.4*9.8-vv1;
% ezplot(Q9,[13.41,14.5])
% axis([0,14.5,-50000,50000])
% title('剪力')
% ylabel('Q/N'),xlabel('x/m')
% subplot(2,1,2)
% hold on
% M1=int(Q1,0,x);
% ezplot(M1,[0,2.22])
% hold on
% M2=int(Q1,0,2.22)+int(Q2,2.22,x);
% ezplot(M2,[2.22,3.28])
% hold on
% M3=int(Q1,0,2.22)+int(Q2,2.22,3.28)+int(Q3,3.28,x);
% ezplot(M3,[3.28,6.691])
% hold on
% M4=int(Q1,0,2.22)+int(Q2,2.22,3.28)+int(Q3,3.28,6.691)+int(Q4,6.691,x)
% ezplot(M4,[6.691,7.275])
% hold on
% M5=int(Q1,0,2.22)+int(Q2,2.22,3.28)+int(Q3,3.28,6.691)+int(Q4,6.691,7.275)+int(Q5,7.275,x)
% ezplot(M5,[7.275,7.73])
% hold on
% M6=int(Q1,0,2.22)+int(Q2,2.22,3.28)+int(Q3,3.28,6.691)+int(Q4,6.691,7.275)+int(Q5,7.275,7.73)+int(Q6,7.73,x)
% ezplot(M6,[7.73,10.24])
% hold on
% a=int(Q1,0,2.22)+int(Q2,2.22,3.28)+int(Q3,3.28,6.691)+int(Q4,6.691,7.275)+int(Q5,7.275,7.73)+int(Q6,7.73,10.24);
% M7=a++int(Q7,10.24,x)
% ezplot(M7,[10.24,13.385])
% hold on
% M8=a++int(Q7,10.24,13.385)+int(Q8,13.385,x);
% ezplot(M8,[13.385,13.41])
% hold on
% M9=a++int(Q7,10.24,13.385)+int(Q8,13.385,13.41)++int(Q9,13.41,x);
% ezplot(M9,[13.41,14.5])
% axis([0,14.5,-150000,50000])
% title('剪力矩')

eq1=-f+(-2034-990.6-67-700)*9.8+N1+N2;
eq2=-m+N1*7.73+N2*13.41-9.8*(2034*7.725+990.6*10.24+67*3.28+700*2.22);
[N1,N2]=solve(eq1,eq2,N1,N2);




subplot(2,1,1)
hold on
Q1=-v1;
ezplot(-v1,[0,2.22])
hold on
Q2=-v1-700*9.8;
ezplot(Q2,[2.22,3.28])
hold on
Q3=-v1-700*9.8-67*9.8;
ezplot(Q3,[3.28,6.691])
hold on
Q4=-f1+3937.2*(x-6.691)-700*9.8-67*9.8;
ezplot(Q4,[6.691,7.275])
hold on
Q5=-f1+3937.2*(x-6.691)-700*9.8-67*9.8-2034*9.8;
ezplot(Q5,[7.275,7.73])
hold on
Q6=-f1-3937.2*(x-6.691)-700*9.8-67*9.8-2034*9.8+N1;
ezplot(Q6,[7.73,10.24])
hold on
Q7=-f1-3937.2*(x-6.691)-700*9.8+-67*9.8-2034*9.8+N1-990.6*9.8;
ezplot(Q7,[10.24,13.385])
hold on
Q8=-f1-f2-700*9.8+-67*9.8-2034*9.8+N1-990.6*9.8-vv1;
ezplot(Q8,[13.385,13.41])
hold on
Q9=-f1-f2-700*9.8+N1-2034*9.8+N2-990.6*9.8--67*9.8-vv1;
ezplot(Q9,[13.41,14.5])
axis([0,14.5,-60000,50000])
title('剪力');
ylabel('Q/N'),xlabel('x/m')
subplot(2,1,2)
hold on
M1=int(Q1,0,x);
ezplot(M1,[0,2.22])
hold on
M2=int(Q1,0,2.22)+int(Q2,2.22,x);
ezplot(M2,[2.22,3.28])
hold on
M3=int(Q1,0,2.22)+int(Q2,2.22,3.28)+int(Q3,3.28,x);
ezplot(M3,[3.28,6.691])
hold on
M4=int(Q1,0,2.22)+int(Q2,2.22,3.28)+int(Q3,3.28,6.691)+int(Q4,6.691,x)
ezplot(M4,[6.691,7.275])
hold on
M5=int(Q1,0,2.22)+int(Q2,2.22,3.28)+int(Q3,3.28,6.691)+int(Q4,6.691,7.275)+int(Q5,7.275,x)
ezplot(M5,[7.275,7.73])
hold on
M6=int(Q1,0,2.22)+int(Q2,2.22,3.28)+int(Q3,3.28,6.691)+int(Q4,6.691,7.275)+int(Q5,7.275,7.73)+int(Q6,7.73,x)
ezplot(M6,[7.73,10.24])
hold on
a=int(Q1,0,2.22)+int(Q2,2.22,3.28)+int(Q3,3.28,6.691)+int(Q4,6.691,7.275)+int(Q5,7.275,7.73)+int(Q6,7.73,10.24);
M7=a++int(Q7,10.24,x)
ezplot(M7,[10.24,13.385])
hold on
M8=a++int(Q7,10.24,13.385)+int(Q8,13.385,x);
ezplot(M8,[13.385,13.41])
hold on
M9=a++int(Q7,10.24,13.385)+int(Q8,13.385,13.41)++int(Q9,13.41,x);
ezplot(M9,[13.41,14.5])
axis([0,14.5,-200000,50000])
title('剪力矩')
ylabel('M/N*m'),xlabel('x/m')

